akka.persistence.journal.plugin = "cassandra-journal"
akka.persistence.snapshot-store.plugin = "cassandra-snapshot-store"

customer.cassandra.keyspace = customer
cassandra-journal.keyspace = ${customer.cassandra.keyspace}
cassandra-snapshot-store.keyspace = ${customer.cassandra.keyspace}

# Use a different keyspace for the read-side
read-side.cassandra.keyspace = customers
read-side.cassandra.port = 9042

# Prevent several second delay for updating read-side
cassandra-query-journal.eventual-consistency-delay = 0s

# TODO: Would be used by Akka Persistence Query to get events by tag
akka.persistence.journal {
  inmem {
    event-adapters {
      tagging = "lightbend.customer.persistence.CustomerTaggingEventAdapter"
    }

    event-adapter-bindings {
      "lightbend.customer.persistence.CustomerEvent" = tagging
    }
  }
}


akka {
  actor {
    provider = "cluster"
  }

  cluster {
    seed-nodes = [
      "akka.tcp://customer@127.0.0.1:2551"
    ]
  }

  remote {
    log-remote-lifecycle-events = off
    netty.tcp {
      hostname = "127.0.0.1"
      port = 2551
    }
  }
}

# Disable legacy metrics in akka-cluster.
akka.cluster.metrics.enabled=off

# Enable metrics extension in akka-cluster-metrics.
akka.extensions=["akka.cluster.metrics.ClusterMetricsExtension"]

# Sigar native library extract location during tests.
# Note: use per-jvm-instance folder when running multiple jvm on one host.
akka.cluster.metrics.native-library-extract-folder=${user.dir}/target/native